<div>
  <!--搜索表单-->
  <app-query-form [formConfig]="queryForm" [loading]="loading" (searchOnClick)="query($event)"></app-query-form>

  <!--角色列表-->
  <app-table-list
    [columnKeyValueMap]="tableKeyValue"
    [loading]="loading"
    [showCheckboxColum]="true"
    [lists]="results"
    [toolbarTemplate]="toolbarTemplate"
    [commendTemplate]="commendTemplate"
    (multiDeleteBtnClick)="deleteItem($event)"
    (refreshBtnClick)="refreshQuery()"
  ></app-table-list>

  <!--列表操作列插槽-->
  <ng-template #commendTemplate let-data>
    <span class="operate-text m-r-1"><i nz-icon nzType="edit" nzTheme="outline"></i>编辑</span>
    <span
      class="operate-text"
      nz-popconfirm
      nzPopconfirmTitle="您确认要删除吗？"
      nzPopconfirmPlacement="bottom"
      (nzOnConfirm)="deleteItem([data.id])"
    >
      <i nz-icon nzType="delete" nzTheme="outline"></i>删除
    </span>
  </ng-template>

  <!--列表抬头工具栏插槽-->
  <ng-template #toolbarTemplate>
    <nz-space nzSize="middle">
      <button *nzSpaceItem nz-button nzType="primary" (click)="showEditForm = !showEditForm">
        <i nz-icon nzType="plus"></i>新增
      </button>
    </nz-space>
  </ng-template>
</div>

<!--新增/编辑按钮的弹窗-->
<app-add-edit-form [(nzVisible)]="showEditForm" [formConfig]="addEditFormConfig"></app-add-edit-form>
